# üöú FarmAI - –°–∏—Å—Ç–µ–º–∞ –û–±–ª—ñ–∫—É –§–µ—Ä–º–∏ –∑ –®–Ü

–ü–æ–≤–Ω–æ—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –æ–±–ª—ñ–∫—É —Ñ–µ—Ä–º–∏ –∑ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—î—é Gemini AI –≤—ñ–¥ Google.

## üìã –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

- üí¨ **–ß–∞—Ç –∑ –®–Ü** - –Ü–Ω—Ç–µ–ª–µ–∫—Ç—É–∞–ª—å–Ω–∏–π –∞—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è –ø–∏—Ç–∞–Ω—å –ø—Ä–æ —Ñ–µ—Ä–º—É
- üß† **–ü–∞–º'—è—Ç—å –®–Ü** - –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤–∞–∂–ª–∏–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É –¥–ª—è –∫—Ä–∞—â–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
- üìä **–û–±–ª—ñ–∫** - –ü–æ–≤–Ω–∏–π –æ–±–ª—ñ–∫ —Ñ–µ—Ä–º–∏ –Ω–∞ –æ—Å–Ω–æ–≤—ñ Excel —Ñ–∞–π–ª—É –∑ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è–º
- üë• **–ë–∞–≥–∞—Ç–æ–∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∞ —Å–∏—Å—Ç–µ–º–∞** - –î–æ 5 –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- üåê **–î–æ—Å—Ç—É–ø –¥–æ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—É** - –®–Ü –º–æ–∂–µ –¥–∞–≤–∞—Ç–∏ –∞–∫—Ç—É–∞–ª—å–Ω—ñ –ø–æ—Ä–∞–¥–∏
- üé® **–°—É—á–∞—Å–Ω–∏–π —Ç–µ–º–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - –ó—Ä—É—á–Ω–∏–π —Ç–∞ –µ—Å—Ç–µ—Ç–∏—á–Ω–∏–π –¥–∏–∑–∞–π–Ω

## üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

**Backend:**
- Flask (Python) - REST API
- OpenPyXL - –†–æ–±–æ—Ç–∞ –∑ Excel
- Google Generative AI (Gemini)

**Frontend:**
- React 18
- Axios –¥–ª—è HTTP –∑–∞–ø–∏—Ç—ñ–≤
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∏–π –¥–∏–∑–∞–π–Ω

## üì¶ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è (Windows)

### 1. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å Python 3.8+
–ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –∑ https://www.python.org/downloads/

### 2. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å Node.js 16+
–ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –∑ https://nodejs.org/

### 3. –ö–ª–æ–Ω—É–π—Ç–µ –∞–±–æ –ø–µ—Ä–µ–π–¥—ñ—Ç—å –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é –ø—Ä–æ–µ–∫—Ç—É
```powershell
cd d:\FARMAI
```

### 4. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Backend

```powershell
# –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ –ø–∞–ø–∫—É backend
cd backend

# –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ Python
pip install -r requirements.txt

# –°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª .env
copy .env.example .env

# –í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ .env —Ç–∞ –¥–æ–¥–∞–π—Ç–µ –≤–∞—à Gemini API –∫–ª—é—á
# GEMINI_API_KEY=–≤–∞—à_–∫–ª—é—á_—Ç—É—Ç
```

**–Ø–∫ –æ—Ç—Ä–∏–º–∞—Ç–∏ Gemini API –∫–ª—é—á:**
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ https://makersuite.google.com/app/apikey
2. –£–≤—ñ–π–¥—ñ—Ç—å —á–µ—Ä–µ–∑ Google –∞–∫–∞—É–Ω—Ç
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Create API Key"
4. –°–∫–æ–ø—ñ—é–π—Ç–µ –∫–ª—é—á —É —Ñ–∞–π–ª `.env`

### 5. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Frontend

```powershell
# –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ –ø–∞–ø–∫—É frontend
cd ..\frontend

# –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ Node.js
npm install
```

## üöÄ –ó–∞–ø—É—Å–∫ –õ–æ–∫–∞–ª—å–Ω–æ

### –í–∞—Ä—ñ–∞–Ω—Ç 1: –î–≤–∞ —Ç–µ—Ä–º—ñ–Ω–∞–ª–∏ (–¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏)

**–¢–µ—Ä–º—ñ–Ω–∞–ª 1 - Backend:**
```powershell
cd d:\FARMAI\backend
python app.py
```
–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –Ω–∞ http://localhost:5000

**–¢–µ—Ä–º—ñ–Ω–∞–ª 2 - Frontend:**
```powershell
cd d:\FARMAI\frontend
npm start
```
–Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤—ñ–¥–∫—Ä–∏—î—Ç—å—Å—è –Ω–∞ http://localhost:3000

### –í–∞—Ä—ñ–∞–Ω—Ç 2: Production —Ä–µ–∂–∏–º

```powershell
# –ó–±—É–¥—É–π—Ç–µ frontend
cd d:\FARMAI\frontend
npm run build

# –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Ç—ñ–ª—å–∫–∏ backend (–≤—ñ–Ω –±—É–¥–µ –≤—ñ–¥–¥–∞–≤–∞—Ç–∏ frontend)
cd ..\backend
python app.py
```
–í—ñ–¥–∫—Ä–∏–π—Ç–µ http://localhost:5000

## üë• –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º

| –õ–æ–≥—ñ–Ω | –ü–∞—Ä–æ–ª—å | –†–æ–ª—å  |
|-------|--------|-------|
| admin | admin  | admin |
| user1 | user1  | user  |
| user2 | user2  | user  |
| user3 | user3  | user  |
| user4 | user4  | user  |

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–æ–µ–∫—Ç—É

```
FARMAI/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ app.py              # –ì–æ–ª–æ–≤–Ω–∏–π Flask —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt    # Python –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
‚îÇ   ‚îú‚îÄ‚îÄ .env.example        # –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
‚îÇ   ‚îî‚îÄ‚îÄ data/               # JSON —Ñ–∞–π–ª–∏ (—ñ—Å—Ç–æ—Ä—ñ—è, –ø–∞–º'—è—Ç—å, –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ)
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.js          # –ì–æ–ª–æ–≤–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.css         # –°—Ç–∏–ª—ñ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ components/     # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Login.js    # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Chat.js     # –ß–∞—Ç –∑ –®–Ü
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Memory.js   # –ü–∞–º'—è—Ç—å –®–Ü
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ Accounting.js # –û–±–ª—ñ–∫
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îî‚îÄ‚îÄ public/
‚îî‚îÄ‚îÄ —Ç–∏–∂–Ω–µ–≤–∏–π –æ–±–ª—ñ–∫.xlsx     # Excel —Ñ–∞–π–ª –∑ –¥–∞–Ω–∏–º–∏
```

## üåê –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –Ω–∞ VPS

### –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ VPS (Ubuntu/Debian)

```bash
# –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏
sudo apt update && sudo apt upgrade -y

# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Python —Ç–∞ pip
sudo apt install python3 python3-pip python3-venv -y

# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Node.js
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt install nodejs -y

# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Nginx
sudo apt install nginx -y
```

### –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –¥–æ–¥–∞—Ç–∫—É

```bash
# –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –ø—Ä–æ–µ–∫—Ç –Ω–∞ VPS
scp -r d:\FARMAI user@your-vps-ip:/home/user/

# –ù–∞ VPS
cd /home/user/FARMAI

# Backend
cd backend
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
nano .env  # –î–æ–¥–∞–π—Ç–µ GEMINI_API_KEY

# Frontend
cd ../frontend
npm install
npm run build

# –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ systemd
sudo nano /etc/systemd/system/farmai.service
```

**–í–º—ñ—Å—Ç farmai.service:**
```ini
[Unit]
Description=FarmAI Backend
After=network.target

[Service]
User=your-user
WorkingDirectory=/home/user/FARMAI/backend
Environment="PATH=/home/user/FARMAI/backend/venv/bin"
ExecStart=/home/user/FARMAI/backend/venv/bin/python app.py
Restart=always

[Install]
WantedBy=multi-user.target
```

```bash
# –ê–∫—Ç–∏–≤–∞—Ü—ñ—è —Å–µ—Ä–≤—ñ—Å—É
sudo systemctl daemon-reload
sudo systemctl enable farmai
sudo systemctl start farmai
```

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Nginx

```bash
sudo nano /etc/nginx/sites-available/farmai
```

**–í–º—ñ—Å—Ç –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó:**
```nginx
server {
    listen 80;
    server_name your-domain.com;

    location / {
        proxy_pass http://localhost:5000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}
```

```bash
# –ê–∫—Ç–∏–≤–∞—Ü—ñ—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
sudo ln -s /etc/nginx/sites-available/farmai /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl restart nginx
```

### SSL (HTTPS) —á–µ—Ä–µ–∑ Let's Encrypt

```bash
sudo apt install certbot python3-certbot-nginx -y
sudo certbot --nginx -d your-domain.com
```

## üîß API Endpoints

### –ß–∞—Ç
- `GET /api/chat/history` - –Ü—Å—Ç–æ—Ä—ñ—è —á–∞—Ç—É
- `POST /api/chat` - –í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
- `POST /api/chat/clear` - –û—á–∏—Å—Ç–∏—Ç–∏ —ñ—Å—Ç–æ—Ä—ñ—é

### –ü–∞–º'—è—Ç—å –®–Ü
- `GET /api/memory` - –û—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—é –ø–∞–º'—è—Ç—å
- `POST /api/memory` - –î–æ–¥–∞—Ç–∏ –∑–∞–ø–∏—Å
- `DELETE /api/memory/<id>` - –í–∏–¥–∞–ª–∏—Ç–∏ –∑–∞–ø–∏—Å

### –û–±–ª—ñ–∫
- `GET /api/accounting` - –û—Ç—Ä–∏–º–∞—Ç–∏ –¥–∞–Ω—ñ Excel
- `POST /api/accounting` - –ó–±–µ—Ä–µ–≥—Ç–∏ –∑–º—ñ–Ω–∏
- `GET /api/accounting/sheets` - –°–ø–∏—Å–æ–∫ –∞—Ä–∫—É—à—ñ–≤

### –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ
- `POST /api/users/login` - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è
- `GET /api/users` - –°–ø–∏—Å–æ–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

## üõ†Ô∏è –†–æ–∑—Ä–æ–±–∫–∞

### –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π

1. **Backend:** –î–æ–¥–∞–π—Ç–µ –Ω–æ–≤—ñ endpoints –≤ `backend/app.py`
2. **Frontend:** –°—Ç–≤–æ—Ä—ñ—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –≤ `frontend/src/components/`
3. **–°—Ç–∏–ª—ñ:** –†–µ–¥–∞–≥—É–π—Ç–µ `frontend/src/App.css`

### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

```powershell
# Backend (–≤ —Ä–æ–∑—Ä–æ–±—Ü—ñ)
cd backend
python app.py

# Frontend (hot reload)
cd frontend
npm start
```

## üìù –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –®–Ü

–í–∏ –º–æ–∂–µ—Ç–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –ø–æ–≤–µ–¥—ñ–Ω–∫—É –®–Ü —Ä–µ–¥–∞–≥—É—é—á–∏ —Ñ—É–Ω–∫—Ü—ñ—é `get_ai_context()` –≤ `backend/app.py`:

```python
def get_ai_context():
    # –î–æ–¥–∞–π—Ç–µ –∫–∞—Å—Ç–æ–º–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –¥–ª—è –®–Ü
    context = "–¢–∏ - –µ–∫—Å–ø–µ—Ä—Ç –∑ —Ñ–µ—Ä–º–µ—Ä—Å—Ç–≤–∞. –¢–≤–æ—è –∑–∞–¥–∞—á–∞..."
    return context
```

## ‚ö†Ô∏è –í–∞–∂–ª–∏–≤–æ

- **–ë–µ–∑–ø–µ–∫–∞:** –ó–º—ñ–Ω—ñ—Ç—å –ø–∞—Ä–æ–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —É production
- **Backup:** –†–µ–≥—É–ª—è—Ä–Ω–æ —Ä–æ–±—ñ—Ç—å –∫–æ–ø—ñ—ó `—Ç–∏–∂–Ω–µ–≤–∏–π –æ–±–ª—ñ–∫.xlsx` —Ç–∞ –ø–∞–ø–∫–∏ `backend/data/`
- **API –ö–ª—é—á:** –ù–µ –¥–æ–¥–∞–≤–∞–π—Ç–µ `.env` —Ñ–∞–π–ª –≤ git
- **–û–Ω–æ–≤–ª–µ–Ω–Ω—è:** –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–Ω–æ–≤–ª—é–π—Ç–µ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

## üêõ –í–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º

### Backend –Ω–µ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è
```powershell
# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —á–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ –≤—Å—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
pip install -r requirements.txt

# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —á–∏ —î .env —Ñ–∞–π–ª
ls backend/.env
```

### Frontend –Ω–µ –∑–±–∏—Ä–∞—î—Ç—å—Å—è
```powershell
# –í–∏–¥–∞–ª—ñ—Ç—å node_modules —Ç–∞ –ø–µ—Ä–µ–≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å
cd frontend
rm -rf node_modules package-lock.json
npm install
```

### –®–Ü –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —á–∏ –¥–æ–¥–∞–Ω–æ `GEMINI_API_KEY` –≤ `.env`
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∑'—î–¥–Ω–∞–Ω–Ω—è –∑ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª—ñ–º—ñ—Ç–∏ API –Ω–∞ Google AI Studio

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–ü—Ä–∏ –≤–∏–Ω–∏–∫–Ω–µ–Ω–Ω—ñ –ø—Ä–æ–±–ª–µ–º:
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
3. –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é Gemini API

## üéØ –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

1. ‚úÖ –î–æ–¥–∞–π—Ç–µ –≤–∞—à Gemini API –∫–ª—é—á
2. ‚úÖ –ó–∞–ø—É—Å—Ç—ñ—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ —Ç–∞ –ø—Ä–æ—Ç–µ—Å—Ç—É–π—Ç–µ
3. ‚úÖ –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
4. ‚úÖ –î–æ–¥–∞–π—Ç–µ –¥–∞–Ω—ñ –≤ –ø–∞–º'—è—Ç—å –®–Ü
5. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç—É–π—Ç–µ —Ä–æ–±–æ—Ç—É –∑ –æ–±–ª—ñ–∫–æ–º
6. üöÄ –†–æ–∑–≥–æ—Ä–Ω—ñ—Ç—å –Ω–∞ VPS

---

**–†–æ–∑—Ä–æ–±–ª–µ–Ω–æ –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ñ–µ—Ä–º–æ—é –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º —à—Ç—É—á–Ω–æ–≥–æ —ñ–Ω—Ç–µ–ª–µ–∫—Ç—É!** üöú‚ú®
